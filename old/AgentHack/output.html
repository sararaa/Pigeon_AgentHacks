<!DOCTYPE html>
<html>
  <head>
    <title>Traffic Predictions @ 2024-05-10 17:00:00</title>
    <style>#map { height:100vh; width:100%; }</style>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAoH0FX8uQBoOHRIUnghIJBQUaNF-Bw-uQ&callback=initMap"
      async defer></script>
  </head>
  <body>
    <div id="map"></div>
    <script>
      function initMap() {
        const map = new google.maps.Map(document.getElementById('map'), {
          center: { lat: 37.7749, lng: -122.4194 },
          zoom: 13
        });
        new google.maps.TrafficLayer().setMap(map);

        const data = [{"road": "San Francisco \u2013 Oakland Bay Bridge", "lat": 37.7982799, "lng": -122.3778182, "level": 3}, {"road": "Unnamed_(32927591, 315706881, 0)", "lat": 37.7749295, "lng": -122.4194155, "level": 2}, {"road": "John F Foran Freeway", "lat": 37.7323683, "lng": -122.4311035, "level": 3}, {"road": "Southern Embarcadero Freeway", "lat": 37.7562091, "lng": -122.3924725, "level": 3}, {"road": "Unnamed_(32927645, 766946830, 0)", "lat": 37.7749295, "lng": -122.4194155, "level": 1}];
        const colors = {1:'green',2:'orange',3:'red',4:'darkred'};

        data.forEach(pt => {
          new google.maps.Circle({
            map,
            center: { lat: pt.lat, lng: pt.lng },
            radius: 80,
            strokeColor: colors[pt.level],
            fillColor:   colors[pt.level],
            fillOpacity: 0.4,
            strokeWeight: 2
          });
        });
      }
    </script>
  </body>
</html>
